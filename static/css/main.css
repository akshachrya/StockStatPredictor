from datetime import datetime
import yfinance as yf
import pandas as pd
import numpy as np



def correlation_finder(df1,df2,time,quote,key):
    df1 = pd.DataFrame(df1)
    df2 = pd.DataFrame(df2)
    # Merge DataFrames on the 'Date' column
    merged_df = pd.merge(df1, df2, on='Date')
    merged_df = merged_df.rename(columns={'Close_x': quote, 'Close_y': key})
    end_date = merged_df['Date'].max()
    if time=='Overall':
        start_date = merged_df['Date'].min()
        correlation_matrix = merged_df.corr()
        coeff=round(correlation_matrix[quote][key],2)
    if time=='7day':
        start_date = end_date - pd.DateOffset(days=7)
        merged_df = merged_df[(merged_df['Date'] >= start_date) & (merged_df[